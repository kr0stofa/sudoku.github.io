(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,t,a){},,,function(e,t,a){e.exports=a.p+"static/media/logo.06e73328.svg"},,,function(e,t,a){e.exports=a(24)},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),l=a.n(c),o=(a(17),a(5)),s=a.n(o),i=a(7);a(18),a(2);var u=Object(n.memo)(function(e){let{x:t,y:a,value:n,onClick:c,isFixed:l,isValid:o,isFocused:s,isSelected:i,isHighlighted:u,onHover:d,onHoverEnd:m}=e;const b=t%3===0,f=a%3===0;return r.a.createElement("div",{onMouseEnter:d,onMouseLeave:m,onClick:c,className:"tile ".concat("".concat(f?"border-top":""," ").concat(b?"border-left":""," ").concat(8===a?"border-bottom":""," \n    ").concat(8===t?"border-right":""))},r.a.createElement("div",{className:"tile-content ".concat(i?"selected":""," \n        ").concat(l?"fixed":""," \n        ").concat(s?"focused":""," \n        ").concat(u?"highlight":""," \n        ").concat(o?"":"invalid")},r.a.createElement("div",{className:"tile-number ".concat(0===n?"no-val":"")},n>0?n:"")))});const d=(e,t)=>100*t+e,m=e=>[e%100,Math.floor(e/100)],b=(e,t,a)=>a[t][e],f=(e,t)=>{if(e<0)return 0;const[a,n]=m(e);return b(a,n,t)},h=e=>e.every(e=>e.every(e=>e>0)),p=(e,t,a)=>{const n=new Map;if(a[t].forEach((t,a)=>{a!==e&&n.set(t,!0)}),a.forEach((a,r)=>{r!==t&&n.set(a[e],!0)}),9===n.set.length)return[];let r=[6,7,8];e<3?r=[0,1,2]:e<6&&(r=[3,4,5]);let c=[6,7,8];return t<3?c=[0,1,2]:t<6&&(c=[3,4,5]),c.forEach(c=>r.forEach(r=>{c===t&&r===e||n.set(a[c][r],!0)})),[1,2,3,4,5,6,7,8,9].filter(e=>!n.has(e))},v=()=>{const e=new Map,t=[],a=[];let n=-1,r=0;const c=()=>{const t={...a.pop()};return t?(t.tileId!==n&&e.set(t.tileId,[]),{tileId:t.tileId,val:0}):(console.error("No history!"),{tileId:-1,val:0})},l=(e,l)=>{let o={tileId:-1,val:1};if(r>0)return r-=1,c();if(h(e))return{...o};const s=(e=>{const t=new Map;return e.forEach((a,n)=>a.forEach((a,r)=>{0===a&&t.set(d(r,n),p(r,n,e))})),t})(e);if(!s)return{...o};let i=10,u=-1,m=[];const b=Array.from(s.entries());for(let[d,h]of b){const s=l.get(d)||[],b=s.length<1?h:h.filter(e=>!s.includes(e)),p=b.length;if(p<1){const e={...t.pop()};if(console.log("rg",e,t.slice()),!e)return console.error("No more guesses to pop!"),{...o};const s=e.tileId,i=e.val,u=l.get(s)||[];l.set(s,[...u,i]),n=s;const d=a.findIndex(e=>e.tileId===s);return d<0?(console.error("Guess cannot be found in history!"),console.log("Tile:",s,"Value:",i),console.log("Err History:",a.slice()),r=0,{...o}):(r=a.length-d-1,o=c(),{...o})}0===f(d,e)&&p<i&&(i=p,u=d,m=b)}return o.tileId=u,o.val=m[Math.floor(Math.random()*m.length)],i>1&&t.push({...o}),a.push({...o}),{...o}};return{startNewAttempt:()=>{r=0,a.splice(0,a.length),t.splice(0,t.length),e.clear()},getMove:t=>l(t,e)}},g=new Array(9).fill(null).map((e,t)=>new Array(9).fill(null));var E=e=>{let{getTileValue:t,validBoard:a,hoveredTile:n,setHoveredTile:c,selectedTile:l,fixedBoardNumbers:o,handleSelectTile:s}=e;const i=(e,t)=>()=>{c(d(e,t))},b=(e,t)=>()=>{c(-1)},f=(e,t)=>n===d(e,t),h=(e,t)=>{const[a,r]=m(n);if(e===a||t===r)return!0;let c=[6,7,8];e<3?c=[0,1,2]:e<6&&(c=[3,4,5]);let l=[6,7,8];return t<3?l=[0,1,2]:t<6&&(l=[3,4,5]),c.includes(a)&&l.includes(r)},p=(e,t)=>()=>{s(d(e,t))};return r.a.createElement("div",{className:"gameboard"},g.map((e,n)=>r.a.createElement("div",{className:"row",key:"row-".concat(n)},e.map((e,c)=>r.a.createElement(u,Object.assign({key:"t-".concat(d(c,n))},((e,n)=>({x:e,y:n,value:t(e,n),isValid:!!a[n][e],isFocused:f(e,n),isFixed:o[n][e]>0,isHighlighted:h(e,n),onHover:i(e,n),onHoverEnd:b(),isSelected:d(e,n)===l,onClick:p(e,n)}))(c,n)))))))};a(19),a(20);var w=Object(n.memo)(e=>{let{onSet:t,currVal:a,availableNums:n,mobile:c}=e;const l=e=>"number".concat(a===e+1?" highlight":"").concat(n.includes(e+1)?"":" badnum");return r.a.createElement("div",{className:"numpad"},new Array(9).fill(null).map((e,a)=>r.a.createElement("button",{key:"num-".concat(a+1),onClick:()=>t(a+1),className:l(a)},a+1)),c&&r.a.createElement("button",{className:"number clear",onClick:()=>t(0)},"X"))});const N=e=>{const t=[];return e.forEach(e=>{const a=[];for(let t=0;t<e.length;t++)a.push(parseInt(e[t]));t.push(a)}),t},y={easy:N(["409253071","020981560","518607203","694070325","001302740","230495018","170504906","980016432","046800150"]),medium:N(["000500000","950000080","038007250","103000009","009704162","046219000","017000300","000050720","000000090"]),hard:N(["300040960","900008010","600005000","008004090","100300020","000000000","000000506","001050002","007002040"])},k=()=>new Array(9).fill(null).map(()=>new Array(9).fill(0)),S=[["Easy",0],["Medium",1],["Hard",2]];var O=e=>{let{mobile:t}=e;const[a,c]=Object(n.useState)(),[l,o]=Object(n.useState)(!1),[s,i]=Object(n.useState)(""),[u,g]=Object(n.useState)(k()),[N,O]=Object(n.useState)(k()),[j,I]=Object(n.useState)(500),[x,A]=Object(n.useState)(k()),[T,C]=Object(n.useState)(k()),[M,H]=Object(n.useState)(-1),[B,F]=Object(n.useState)(-1),[V,R]=Object(n.useState)([]),D=Object(n.useCallback)(e=>{const t=k();u.forEach((a,n)=>a.forEach((a,r)=>t[n][r]=((e,t,a,n)=>{if(0===a)return!0;let r=!0;if(!(r=!n[t].some((t,n)=>t===a&&n!==e)))return!1;if(!(r=!n.some((n,r)=>n[e]===a&&r!==t)))return!1;let c=[6,7,8];e<3?c=[0,1,2]:e<6&&(c=[3,4,5]);let l=[6,7,8];return t<3?l=[0,1,2]:t<6&&(l=[3,4,5]),r=!l.some(r=>c.some(c=>n[r][c]===a&&(c!==e||r!==t)))})(r,n,a,e)?1:0)),C(t)},[u]),L=(e,t,a)=>{if(e<0)return;if(f(e,a)===t)return;const[n,r]=m(e);if(N[r][n]>0)return;const c=a.map(e=>[...e]);return A(c),((e,t,a,n)=>{const r=n.map(e=>[...e]);return r[t][e]=a,g(r),r})(n,r,t,a)},z=e=>{H(e),R(((e,t)=>{if(e<0)return[];const[a,n]=m(e);return p(a,n,t)})(e,u))},G=v(),J=e=>{const t=(e=>{if(h(e))return;const{tileId:t,val:a}=G.getMove(e);return z(t),L(t,a,e)})(e);if(!t)return window.console.log("ERROR doing best move"),clearTimeout(a),c(0),void o(!1);c(window.setTimeout(()=>J(t),j))},P=e=>{A(k());let t=[];switch(e){case 1:t=y.medium;break;case 2:t=y.hard;break;default:t=y.easy}z(-1),O(t),g(t)};Object(n.useEffect)(()=>{D(u)},[l,D,u]),Object(n.useEffect)(()=>{P(1)},[]);const q={getTileValue:(e,t)=>b(e,t,u),validBoard:T,selectedTile:M,handleSelectTile:z,hoveredTile:B,fixedBoardNumbers:N,setHoveredTile:F},K=()=>r.a.createElement("div",{className:"puzzle-select"},S.map(e=>{let[t,a]=e;return r.a.createElement("button",{className:"btn-ui",disabled:l,onClick:()=>P(a)},t)}));return r.a.createElement("div",{tabIndex:0,className:"sudoku".concat(t?" mobile":""),onKeyDown:e=>{const{key:t}=e,[a,n]=m(M);let[r,c]=[-1,-1],l=-1;switch(t){case"w":case"ArrowUp":[r,c]=[a,n-1];break;case"s":case"ArrowDown":[r,c]=[a,n+1];break;case"a":case"ArrowLeft":[r,c]=[a-1,n];break;case"d":case"ArrowRight":[r,c]=[a+1,n];break;case"0":case"Escape":case"Backspace":((e,t,a)=>{L(d(e,t),0,a)})(a,n,u);break;default:const e=parseInt(t);console.log("key",t,e,!!e),e&&(l=e)}if(r>-1){if(((e,t)=>e>8||t>8||e<0||t<0)(r,c))return;const e=d(r,c);z(e),F(e)}l>-1&&(console.log("set val",l),L(M,l,u))}},t&&r.a.createElement(K,null),r.a.createElement(E,q),!t&&r.a.createElement("div",{className:"actions-group"},r.a.createElement(K,null),r.a.createElement(w,{availableNums:V,currVal:f(M,u),onSet:e=>L(M,e,u)}),r.a.createElement("div",{className:"slidecontainer"},r.a.createElement("input",{disabled:l,type:"range",min:"20",max:"2500",value:j,className:"slider",id:"myRange",onChange:e=>I(parseInt(e.target.value))}),r.a.createElement("span",{className:"text-input-label"},j,"ms"),r.a.createElement("button",{className:"btn-ui btn-wide  ".concat(s),onClick:()=>{clearTimeout(a),c(0),l?o(!1):(G.startNewAttempt(),o(!0),i("disabled"),J(u))}},l?"Stop":"Auto Solve")),r.a.createElement("button",{className:"btn-ui btn-wide ".concat(s),onClick:()=>{o(!1),g(k())}},"Clear Board")),t&&r.a.createElement(w,{availableNums:V,currVal:f(M,u),onSet:e=>L(M,e,u),mobile:!0}))};var j=function(){const e=Object(i.a)({query:"(max-width: 800px)"});return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header".concat(e?" fixed":"")},r.a.createElement("img",{src:s.a,className:"App-logo",alt:"logo"})," by David Goh"),r.a.createElement(O,{mobile:e}))};var I=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,25)).then(t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:c,getTTFB:l}=t;a(e),n(e),r(e),c(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null))),I()}],[[8,1,2]]]);
//# sourceMappingURL=main.0df52693.chunk.js.map